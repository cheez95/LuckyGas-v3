# PostgreSQL Recovery Configuration for Streaming Replication
# This file is used by replicas to connect to the primary

# Standby mode
standby_mode = 'on'

# Connection to primary
primary_conninfo = 'host=postgres-primary port=5432 user=replicator password=${REPLICATION_PASSWORD} application_name=replica_1'

# Use replication slot for guaranteed WAL retention
primary_slot_name = 'replica_1_slot'

# Recovery target
recovery_target_timeline = 'latest'

# Archive recovery command
restore_command = 'cp /var/lib/postgresql/archive/%f %p'

# Promote trigger file (for manual failover)
trigger_file = '/tmp/promote_to_primary'